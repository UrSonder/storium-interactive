# StyleRegistry System: Dynamic CSS Management

A comprehensive, pure JavaScript system for managing, generating, and injecting dynamic CSS rules, designed to enforce a strict **no-inline-styles** policy by centralizing all presentation logic into generated CSS classes.

## Features âœ¨

* **Zero Inline Styles:** Encourages clean HTML by generating and injecting all presentational CSS via classes.
* **Dynamic CSS Registration:** Register CSS properties and values, automatically generating prefixed class names and the corresponding stylesheet.
* **Scoped Class Naming:** Automatically prefixes classes using configurable **app\_prefix** and **group\_prefix** (e.g., `app-group-name`).
* **DOM Manipulation Utilities:** Provides a full set of DOM handling utilities for element creation, manipulation, and event management.
* **IIFE Architecture:** Self-contained module with **no external dependencies**, easily integrated into any web project.
* **Style Tracking:** Maintains a list of all unique CSS properties used across the application for auditing and reporting.



## Architecture

The system is organized into three main classes within a single **Immediately Invoked Function Expression (IIFE)**:

### 1. StyleRegistryUtil
A collection of static helper functions for data handling and validation:
* `parseStyles(styles)`: Converts a semicolon-separated string of properties into an array.
* `camelToKebab(str)`: Converts properties (like `marginBottom`) to their CSS form (`margin-bottom`).

### 2. StyleRegistry (Core Logic)
The central class responsible for managing and generating CSS:
* Stores unique CSS properties and generated rules.
* Handles **class prefixing** and validation.
* The primary method is `registerStyles`, which takes properties and arrays of class names/values, producing a complete CSS stylesheet string via `getStylesheet()`.

### 3. DomHandler (DOM Interaction)
The utility class for interacting with the DOM and injecting generated styles:
* The key method is `injectStylesheet(styleRegistry)`, which takes the generated CSS and writes it to the DOM.
* Provides robust methods for creating elements (`createElement`, `createElements`), appending children, and managing events.


## Installation and Usage

### Installation

Simply include the `css-management.js` file in your HTML document. The IIFE automatically runs and exposes the main classes to the global scope (`window`).


<script src="css-management.js"></script>
Basic Usage
All presentation styling must be defined in the Registry first, ensuring your HTML remains presentation-free.


// 1. Initialization
const sr = new StyleRegistry("myapp");
const dh = new DomHandler();

// 2. Define Styles and Values
const styles = "background-color;color;padding;border-radius";
const cssNames = ["btnPrimary", "labelHeader"];
const cssValues = [
    "#007bff,white,10px,4px",   // Values for btnPrimary
    "#333,#fff,5px,0"           // Values for labelHeader
];

// 3. Register Styles
const [btnClass, labelClass] = sr.registerStyles('forms', styles, cssNames, cssValues);
// Generated: myapp-forms-btnPrimary, myapp-forms-labelHeader

// 4. Inject Stylesheet into the DOM
dh.injectStylesheet(sr);

// 5. Create Elements using ONLY classes
const button = dh.createElement('button', [btnClass], {}, { type: 'button' });
button.textContent = 'Submit Form';

document.body.appendChild(button);
API Reference
StyleRegistry Class
Method	Description
new StyleRegistry(app_prefix)	Creates a new registry with a base prefix (e.g., "app").
registerStyles(group, styles, names, values)	Registers style definitions, generates, and returns an array of prefixed class names.
getStylesheet()	Returns the complete generated CSS rules as a single string.
getStyles()	Returns an array of all unique CSS properties registered.


DomHandler Class
Method	Description
new DomHandler()	Initializes the handler and prepares the style injection elements.
injectStylesheet(styleRegistry)	CRITICAL: Injects all CSS generated by the Registry into the <head>.
createElement(tagName, classNames, styles, attributes)	Creates an element. The styles object should be reserved for dynamic, run-time overrides only.
createElements(configArray)	Creates multiple elements based on an array of configuration objects.
addEventListeners(elements, eventType, handler)	Attaches the same event listener to an array of elements.